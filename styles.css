/* Global Styles */
:root {
    --primary-color: #9d4edd;
    --primary-dark: #7b2cbf;
    --background-dark: #19031b;  
    --background-darker: #0c021b; 
    --text-light: #c8cdf1;
    --text-white: #ffffff;
    --accent-color: #5a2d88;
    --border-color: rgba(157, 78, 221, 0.2);
    --card-bg: rgba(157, 78, 221, 0.05);
    --sidebar-bg: rgba(30, 30, 30, 0.95);
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

/* Stars Background - Based on CodePen example */
html {
    height: 100%;
    background: radial-gradient(ellipse at bottom, #2a1b62 0%, #190328 50%, #0d0118 100%);
    overflow: hidden;
}

body {
    font-family: 'Quicksand', sans-serif;
    color: var(--text-light);
    min-height: 100vh;
    line-height: 1.6;
    overflow-x: hidden;
    margin: 0;
    padding: 0;
    overflow-y: auto;
}

/* Stars layer */
.stars {
    width: 100%;
    height: 100%;
    position: fixed;
    background: transparent url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/1231630/stars.png) repeat;
    background-size: 1000px 1000px;
    opacity: 0.6;
    mix-blend-mode: screen;
    z-index: 0;
}

/* Enhanced twinkling solution */
.twinkling {
    position: fixed;
    width: 100%;
    height: 100%;
    z-index: 1;
    background: transparent;
    overflow: hidden;
    pointer-events: none;
    top: 0;
    left: 0;
}

/* Create twinkling stars with different animations */
.star {
    position: absolute;
    background-color: white;
    border-radius: 50%;
    opacity: 0;
    pointer-events: none;
    box-shadow: 0 0 3px 1px rgba(255, 255, 255, 0.3);
}

/* Star variants with different sizes and animations */
.star-1 {
    width: 1px;
    height: 1px;
    animation: twinkle-1 3s infinite ease-in-out;
}

.star-2 {
    width: 2px;
    height: 2px;
    animation: twinkle-2 5s infinite ease-in-out;
}

.star-3 {
    width: 3px;
    height: 3px;
    animation: twinkle-3 7s infinite ease-in-out;
}

/* Add a larger star size for more dramatic twinkling */
.star-4 {
    width: 4px;
    height: 4px;
    animation: twinkle-4 9s infinite ease-in-out;
    box-shadow: 0 0 5px 2px rgba(255, 255, 255, 0.5);
}

@keyframes twinkle-1 {
    0%, 100% { opacity: 0; }
    40% { opacity: 0.3; }
    60% { opacity: 0.7; }
    80% { opacity: 0.4; }
}

@keyframes twinkle-2 {
    0%, 100% { opacity: 0.05; }
    30% { opacity: 0.3; }
    50% { opacity: 0.9; }
    70% { opacity: 0.5; }
    85% { opacity: 0.15; }
}

@keyframes twinkle-3 {
    0%, 100% { opacity: 0.1; }
    20% { opacity: 0.3; }
    40% { opacity: 0.2; }
    60% { opacity: 1; }
    80% { opacity: 0.4; }
}

/* More dramatic animation for larger stars */
@keyframes twinkle-4 {
    0%, 100% { opacity: 0; }
    20% { opacity: 0.5; }
    30% { opacity: 0.2; }
    40% { opacity: 0.9; }
    60% { opacity: 0.3; }
    80% { opacity: 0.7; }
}

/* Keep existing twinkling stars as additional layers but adjust their position */
.twinkling:before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 3px;
    height: 3px;
    background: white;
    box-shadow: 
        20px 30px 2px 1px rgba(255, 255, 255, 0.4),
        90px 80px 2px 1px rgba(255, 255, 255, 0.5),
        150px 20px 2px 0px rgba(255, 255, 255, 0.3),
        200px 130px 2px 1px rgba(255, 255, 255, 0.6),
        260px 40px 1px 0px rgba(255, 255, 255, 0.3),
        300px 180px 2px 0px rgba(255, 255, 255, 0.4),
        350px 50px 1px 1px rgba(255, 255, 255, 0.5),
        400px 200px 1px 0px rgba(255, 255, 255, 0.3),
        450px 70px 2px 0px rgba(255, 255, 255, 0.6),
        500px 250px 1px 1px rgba(255, 255, 255, 0.4),
        560px 90px 2px 0px rgba(255, 255, 255, 0.3),
        600px 230px 1px 0px rgba(255, 255, 255, 0.5),
        650px 110px 2px 1px rgba(255, 255, 255, 0.4),
        700px 280px 2px 0px rgba(255, 255, 255, 0.3),
        750px 130px 1px 0px rgba(255, 255, 255, 0.6),
        800px 300px 2px 1px rgba(255, 255, 255, 0.4),
        850px 150px 1px 0px rgba(255, 255, 255, 0.5),
        900px 320px 2px 1px rgba(255, 255, 255, 0.3),
        950px 170px 1px 0px rgba(255, 255, 255, 0.4),
        1000px 340px 1px 1px rgba(255, 255, 255, 0.6),
        1050px 190px 2px 0px rgba(255, 255, 255, 0.3),
        1100px 220px 1px 1px rgba(255, 255, 255, 0.4),
        1150px 350px 2px 0px rgba(255, 255, 255, 0.5),
        1200px 80px 1px 0px rgba(255, 255, 255, 0.3),
        1250px 370px 2px 1px rgba(255, 255, 255, 0.4);
    border-radius: 50%;
    animation: twinkling-stars-1 5s ease-in-out infinite alternate;
    pointer-events: none;
}

.twinkling:after {
    content: '';
    position: fixed;
    top: 30px;
    left: 30px;
    width: 2px;
    height: 2px;
    background: white;
    box-shadow: 
        50px 50px 2px 1px rgba(255, 255, 255, 0.5),
        100px 160px 1px 0px rgba(255, 255, 255, 0.6),
        170px 90px 2px 1px rgba(255, 255, 255, 0.3),
        220px 220px 1px 0px rgba(255, 255, 255, 0.4),
        280px 120px 2px 1px rgba(255, 255, 255, 0.5),
        320px 280px 1px 0px rgba(255, 255, 255, 0.3),
        370px 140px 2px 1px rgba(255, 255, 255, 0.6),
        420px 310px 1px 0px rgba(255, 255, 255, 0.4),
        470px 160px 2px 1px rgba(255, 255, 255, 0.5),
        520px 340px 1px 0px rgba(255, 255, 255, 0.3),
        570px 180px 2px 1px rgba(255, 255, 255, 0.6),
        620px 270px 1px 0px rgba(255, 255, 255, 0.4),
        670px 200px 2px 1px rgba(255, 255, 255, 0.5),
        720px 370px 1px 0px rgba(255, 255, 255, 0.3),
        770px 220px 2px 1px rgba(255, 255, 255, 0.6),
        820px 110px 1px 0px rgba(255, 255, 255, 0.4),
        870px 240px 2px 1px rgba(255, 255, 255, 0.5),
        920px 400px 1px 0px rgba(255, 255, 255, 0.3),
        970px 260px 2px 1px rgba(255, 255, 255, 0.6),
        1020px 150px 1px 0px rgba(255, 255, 255, 0.4),
        1070px 280px 2px 1px rgba(255, 255, 255, 0.5),
        1120px 430px 1px 0px rgba(255, 255, 255, 0.3),
        1170px 300px 2px 1px rgba(255, 255, 255, 0.6),
        1220px 190px 1px 0px rgba(255, 255, 255, 0.4);
    border-radius: 50%;
    animation: twinkling-stars-2 6s ease-in-out infinite alternate;
    pointer-events: none;
}

@keyframes twinkling-stars-1 {
    0% {
        opacity: 0.1;
    }
    33% {
        opacity: 0.4;
    }
    66% {
        opacity: 0.2;
    }
    100% {
        opacity: 0.7;
    }
}

@keyframes twinkling-stars-2 {
    0% {
        opacity: 0.2;
    }
    25% {
        opacity: 0.5;
    }
    50% {
        opacity: 0.1;
    }
    75% {
        opacity: 0.3;
    }
    100% {
        opacity: 0.6;
    }
}

/* Shooting star effect - thinner with lower opacity */
.shooting-star {
    position: absolute;
    height: 1px;
    background: linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 50%, rgba(255,255,255,0) 100%);
    animation: shooting 10s linear infinite;
    opacity: 0;
    z-index: 1;
    transform-origin: 0 0;
    box-shadow: 0 0 5px 1px rgba(255, 255, 255, 0.4);
}

/* Lower shooting star with different trajectory - thinner with lower opacity */
.shooting-star-lower {
    position: absolute;
    height: 1px;
    background: linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 50%, rgba(255,255,255,0) 100%);
    animation: shooting-lower 15s linear infinite;
    opacity: 0;
    z-index: 1;
    transform-origin: 0 0;
    box-shadow: 0 0 6px 2px rgba(255, 255, 255, 0.5);
}

@keyframes shooting {
    0% {
        transform: translateX(0) translateY(0) rotate(215deg);
        opacity: 0;
        width: 0;
    }
    0.1% {
        opacity: 0.6;
        width: 50px;
    }
    5% {
        width: 150px;
        opacity: 0.6;
    }
    10% {
        transform: translateX(300px) translateY(300px) rotate(215deg);
        opacity: 0;
        width: 0;
    }
    100% {
        transform: translateX(300px) translateY(300px) rotate(215deg);
        opacity: 0;
        width: 0;
    }
}

/* Animation for lower shooting star with different angle */
@keyframes shooting-lower {
    0% {
        transform: translateX(0) translateY(0) rotate(195deg);
        opacity: 0;
        width: 0;
    }
    0.1% {
        opacity: 0.6;
        width: 60px;
    }
    5% {
        width: 180px;
        opacity: 0.6;
    }
    10% {
        transform: translateX(350px) translateY(200px) rotate(195deg);
        opacity: 0;
        width: 0;
    }
    100% {
        transform: translateX(350px) translateY(200px) rotate(195deg);
        opacity: 0;
        width: 0;
    }
}

.clouds {
    width: 10000px;
    height: 100%;
    position: fixed;
    background: transparent url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/1231630/clouds_repeat.png) repeat;
    background-size: 4000px 4000px;
    z-index: 2;
    opacity: 0.4;
    
    animation: move-background 150s linear infinite;
}

@keyframes move-background {
    from {
        transform: translate3d(0px, 0px, 0px);
    }
    to { 
        transform: translate3d(-4000px, 0px, 0px);
    }
}

.moon-container {
    height: 100%;
    width: 100%;
    position: fixed;
    z-index: 3;
}

.moon-img {
    height: 40vh;
    width: 40vh;
    position: absolute;
    right: 20px;
    top: 20px;
    opacity: 0.9;
}

/* Ensure app content is above background */
.app-container {
    display: flex;
    width: 100%;
    min-height: 100vh;
    position: relative;
    z-index: 10; /* Ensure above the background elements */
}

/* Sidebar Styles */
.sidebar {
    width: 320px;
    background: rgba(12, 2, 27, 0.3); /* Make nearly transparent, just a hint of color */
    border-right: 1px solid rgba(157, 78, 221, 0.05); /* Very subtle border like content area */
    padding: 1.5rem;
    overflow-y: auto;
    height: 100vh;
    position: sticky;
    top: 0;
    flex-shrink: 0;
    z-index: 11;
    backdrop-filter: none; /* Remove blur to match other containers */
}

/* Add text shadow to all sidebar text elements for readability */
.sidebar, .sidebar-header, .section-title, .control-group label, .style-description, .enhance-description {
    text-shadow: 0 0 12px rgba(0, 0, 0, 0.9);
}

/* Make border elements subtle */
.sidebar-header {
    border-bottom: 1px solid rgba(157, 78, 221, 0.08);
}

.sidebar-section {
    border-bottom: 1px solid rgba(157, 78, 221, 0.08);
}

/* Keep form controls slightly more visible for usability */
select, input[type="number"] {
    background: rgba(50, 10, 70, 0.15);
    border: 1px solid rgba(157, 78, 221, 0.1);
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
}

.sidebar-header {
    font-family: 'Quicksand', sans-serif;
    font-size: 1.3rem;
    color: var(--primary-color);
    margin-bottom: 1.5rem;
    text-align: center;
    font-weight: 500;
    padding-bottom: 0.5rem;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
}

.sidebar-logo {
    width: 32px;
    height: 32px;
    object-fit: contain;
}

.sidebar-section {
    margin-bottom: 1.5rem;
    padding-bottom: 1rem;
}

.section-title {
    font-size: 1rem;
    margin: 1rem 0 0.8rem 0;
    color: var(--text-white);
    font-weight: 500;
}

.control-group {
    margin-bottom: 0.8rem;
}

.control-group label {
    display: block;
    margin-bottom: 0.4rem;
    font-size: 0.9rem;
}

.control-group label input[type="checkbox"] {
    margin-right: 0.5rem;
}

.value-display {
    margin-left: 0.5rem;
    font-size: 0.8rem;
    color: var(--primary-color);
}

/* Range Input Styling */
input[type="range"] {
    width: 100%;
    height: 6px;
    -webkit-appearance: none;
    background: rgba(157, 78, 221, 0.1);
    border-radius: 10px;
    outline: none;
}

input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 16px;
    height: 16px;
    border-radius: 50%;
    background: linear-gradient(90deg, var(--primary-color), var(--primary-dark));
    cursor: pointer;
}

input[type="range"]::-moz-range-thumb {
    width: 16px;
    height: 16px;
    border-radius: 50%;
    background: linear-gradient(90deg, var(--primary-color), var(--primary-dark));
    cursor: pointer;
    border: none;
}

/* Number Input Styling */
input[type="number"] {
    width: 100%;
    padding: 0.5rem;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid var(--border-color);
    border-radius: 6px;
    color: var(--text-white);
    font-family: 'Quicksand', sans-serif;
}

/* Select Styling */
select {
    width: 100%;
    padding: 0.5rem;
    background: rgba(50, 10, 70, 0.8);
    border: 1px solid var(--border-color);
    border-radius: 6px;
    color: var(--text-white);
    font-family: 'Quicksand', sans-serif;
    cursor: pointer;
    appearance: none;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='%239d4edd' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 10px center;
    padding-right: 30px;
}

select:hover {
    background: rgba(70, 20, 95, 0.9);
    border-color: var(--primary-color);
}

select:focus {
    outline: none;
    border-color: var(--primary-color);
    box-shadow: 0 0 0 2px rgba(157, 78, 221, 0.3);
}

/* Style dropdown options */
select option {
    background-color: rgba(30, 5, 40, 0.95);
    color: var(--text-white);
}

.style-description {
    font-size: 0.8rem;
    margin-top: 0.5rem;
    color: var(--text-light);
    font-style: italic;
    opacity: 1.0;
}

.enhance-description {
    font-size: 0.8rem;
    margin-top: 0.3rem;
    color: var(--text-light);
    font-style: italic;
    opacity: 1.0;
    transition: opacity 0.3s ease;
}

/* Main Content Area */
.main-content {
    flex: 1;
    padding: 1.5rem;
    overflow-y: auto;
    display: flex;
    flex-direction: column;
    align-items: center;
    position: relative;
    background: transparent; /* Let background show through */
    z-index: 10; /* Above stars */
}

.main-content > * {
    width: 100%;
    max-width: 1100px;
    position: relative;
    z-index: 10; /* Ensure all direct children are above the stars */
}

.title-container {
    text-align: center;
    margin-bottom: 2rem;
    padding: 1rem;
    background: rgba(23, 3, 25, 0); /* Completely transparent background */
    border-radius: 20px;
    border: 1px solid rgba(157, 78, 221, 0.03); /* Extremely subtle border */
    position: relative;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08); /* Very subtle shadow */
    width: 100%;
    z-index: 11;
    backdrop-filter: none; /* Remove blur to see stars behind */
}

.title-wrapper {
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 1rem;
}

.title-image {
    max-width: 150%;
    height: auto;
    display: block;
    margin: 0 auto;
    transform: scale(1.5);
    position: relative;
    left: 0;
    top: 0;
}

/* Keep these styles for reference but they're no longer used */
.title-text {
    font-family: 'Audiowide', cursive;
    font-size: 3.5rem;
    font-weight: bold;
    background: linear-gradient(45deg, var(--primary-color), var(--primary-dark));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    letter-spacing: 2px;
}

.title-icon {
    font-size: 3.5rem;
    margin-left: 0.5rem;
    color: var(--primary-color);
    display: inline-block;
}

.subtitle-text {
    font-family: 'Quicksand', sans-serif;
    font-size: 1.2rem;
    color: var(--text-light);
    opacity: 1.0;
    font-weight: 300;
    letter-spacing: 0.5px;
    margin-top: 1rem;
    text-shadow: 0 0 12px rgba(0, 0, 0, 0.9);
    font-weight: 400; /* Slightly bolder for better visibility */
}

.content-area {
    background: rgba(23, 3, 25, 0); /* Completely transparent */
    opacity: 1.0; /* Keep text fully visible */
    padding: 2rem;
    border-radius: 20px;
    border: 1px solid rgba(157, 78, 221, 0.03); /* Extremely subtle border */
    margin-bottom: 2rem;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05); /* Barely visible shadow */
    position: relative;
    z-index: 11;
    backdrop-filter: none;
}

/* Add stronger text shadow to improve readability against transparent background */
.content-area, .input-prompt, .subtitle-text {
    text-shadow: 0 0 12px rgba(0, 0, 0, 0.9);
}

#prompt-input, #create-button, .download-button {
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3); /* Slightly stronger shadow for interactive elements */
}

.input-prompt {
    font-family: 'Quicksand', sans-serif;
    font-size: 1.2rem;
    color: var(--text-light);
    opacity: 1.0;
    margin-bottom: 1.5rem;
    text-align: center;
    font-weight: 400;
}

.input-container {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    margin-bottom: 2rem;
}

#prompt-input {
    width: 100%;
    padding: 0.75rem 1rem;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid var(--border-color);
    border-radius: 12px;
    color: var(--text-white);
    font-size: 1rem;
    font-family: 'Quicksand', sans-serif;
    transition: all 0.3s ease;
}

/* Improve placeholder visibility */
#prompt-input::placeholder {
    color: rgba(200, 205, 241, 0.7);
    opacity: 0.8;
}

#prompt-input:focus {
    border-color: var(--primary-color);
    box-shadow: 0 0 0 1px var(--primary-color);
    outline: none;
}

#create-button {
    background: linear-gradient(45deg, var(--primary-color), var(--primary-dark));
    color: white;
    font-size: 1.1rem;
    font-weight: 500;
    padding: 0.75rem 2rem;
    border-radius: 12px;
    border: none;
    width: 100%;
    cursor: pointer;
    transition: all 0.3s ease;
    font-family: 'Quicksand', sans-serif;
}

#create-button:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 15px rgba(157, 78, 221, 0.3);
}

.result-container {
    margin-top: 2rem;
    display: none;
}

.result-container.active {
    display: block;
}

.image-wrapper {
    position: relative;
    margin-bottom: 1rem;
}

.generated-image {
    width: 100%;
    height: auto;
    border-radius: 12px;
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3);
}

.download-button {
    background: linear-gradient(45deg, var(--primary-dark), var(--accent-color));
    color: white;
    font-size: 1rem;
    padding: 0.6rem 1.5rem;
    border-radius: 12px;
    border: none;
    cursor: pointer;
    transition: all 0.3s ease;
    margin-top: 1rem;
    display: inline-block;
    font-family: 'Quicksand', sans-serif;
}

.download-button:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 15px rgba(157, 78, 221, 0.3);
}

.loading-indicator {
    display: none;
    text-align: center;
    padding: 2rem;
}

.loading-indicator.active {
    display: block;
}

.loading-text {
    font-size: 1.2rem;
    margin-bottom: 1rem;
    color: var(--primary-color);
}

.spinner {
    width: 50px;
    height: 50px;
    border: 5px solid rgba(157, 78, 221, 0.2);
    border-top: 5px solid var(--primary-color);
    border-radius: 50%;
    margin: 0 auto;
    animation: spin 1s linear infinite;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* Mobile Responsiveness */
@media (max-width: 992px) {
    .app-container {
        flex-direction: column;
    }
    
    .sidebar {
        width: 100%;
        height: auto;
        position: relative;
        overflow-y: visible;
        border-right: none;
        border-bottom: 1px solid var(--border-color);
    }
    
    .title-image {
        max-width: 110%;
        transform: scale(1.05);
    }
}

@media (max-width: 576px) {
    .title-image {
        max-width: 200%;
        transform: scale(1);
    }
    
    .sidebar-section, .content-area {
        padding: 1rem;
    }
}
